<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Analysis Homepage</title>
    <style>
        body {
            background-color: #02021b;
            font-family: 'cambria', arial;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .train-container {
            position: fixed;
            z-index: -1;
            pointer-events: none;
        }

        .train {
            width: 200px;
            height: auto;
            position: relative;
        }

        .steam {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(255, 255, 255, .7);
            border-radius: 50%;
            pointer-events: none;
            filter: blur(1px);
        }

        @keyframes steamFloat {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 0.5;
            }
            100% {
                transform: translate(0, -20px) scale(1.5);
                opacity: 0;
            }
        }

        .header {
            background-color: white;
            padding: 10px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1.6;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
        }

        .header a {
            color: #02021b;
            text-decoration: none;
            font-weight: bold;
            border-radius: 8px;
            margin: 0 20px;
            padding: 10px;
            transition: background-color 0.3s;
        }

        .header a:hover {
            background-color: #294d5a;
            border-radius: 8px;
            color: white;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 500px;
            margin: 30px auto;
            text-align: center;
            transition: background-color 0.3s, color 0.3s, opacity 0.3s;
            position: relative;
            z-index: 1;
        }

        .container:hover {
            background-color: #294d5a;
            opacity: 0.9
        }

        .container:hover h1,
        .container:hover p {
            color: white;
        }

        .container h1 {
            margin-bottom: 20px;
            color: #02021b;
            fill-opacity: .8;
        }

        .container p {
            margin: 10px 0;
            color: #000000;
            transition: color 0.3s;
        }

        .container p:hover {
            color: #ffffff;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="index.html">Home</a>
        <a href="DataCleaner.html">Data Cleaner</a>
        <a href="modematrix.html">Mode Matrix Generator</a>
        <a href="monthyearmatrix.html">Month-Year Mode Matrix</a>
        <a href="weekdaymatrix.html">Weekday/Weekend Mode Matrix</a>
        <a href="TWsavingsmatrix.html">Travel Wallet Savings Matrix</a>
    </div>

    <div class="container">
        <h1>SEPTA Ridership Report Analysis Assistant</h1>
        <p>This digital assistant contains several programs to assist in data cleaning and analysis for the Key Advantage team. Ensure your raw ridership report is submitted through the data cleaner before creating matrices.</p>
    </div>
    <div class="container">
        <h1>How it works</h1>
        <p>This program is designed to take unaltered, raw Crystal ridership reports
            and create meaningful, readable tables and constructs for further analysis. 
            The user uploads their raw ridership report to the data cleaner, makes a few manual alterations
            based on their preferences, and uploads their now cleaned report to 
            a matrix generator.</p>
    </div>
    <div class="container">
        <h1>Manual Alterations</h1>
        <p>This program does NOT account for extraneous data generated by Crystal Reports.
            This means extra dates or sets of time: for example, running a ridership report for November
            will often return additional data from the prior October, in which case those rows of data must be removed
            manually.</p>
        <p>This program also does not filter based on product type: if the user only wants data from the Key Advantage All Access Pass, he or she must filter out all other product 
            types and remove those rows manually.</p>
    </div>

    <script>
        function createTrain() {
            const trainContainer = document.createElement('div');
            const isLeftToRight = Math.random() < 0.5;
            const verticalPosition = Math.random() * 80 + 10;

            trainContainer.className = 'train-container';
            trainContainer.style.top = `${verticalPosition}%`;

            const startX = isLeftToRight ? -200 : window.innerWidth;
            const endX = isLeftToRight ? window.innerWidth : -200;
            const duration = 12000; // Made trains slightly faster
            const startTime = Date.now();

            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);

                const currentX = startX + (endX - startX) * progress;
                trainContainer.style.transform = `translateX(${currentX}px)`;
                trainContainer.style.opacity = progress < 0.1 ? progress * 10 : 
                                             progress > 0.9 ? (1 - progress) * 10 : 
                                             1;

                if (progress > 0.1 && progress < 0.9 && Math.random() < 0.5) { // Increased steam frequency
                    createSteam(trainContainer, isLeftToRight);
                }

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    document.body.removeChild(trainContainer);
                    // Create new train sooner
                    setTimeout(createTrain, Math.random() * 1000 + 500); // Random delay between 0.5-1.5 seconds
                }
            }

            const train = document.createElement('img');
            train.className = 'train';
            train.src = isLeftToRight ? 'SubwayRight.png' : 'SubwayLeft.png';
            trainContainer.appendChild(train);
            document.body.appendChild(trainContainer);

            animate();
        }

        function createSteam(trainContainer, isLeftToRight) {
            const steam = document.createElement('div');
            steam.className = 'steam';

            const steamX = isLeftToRight ? 5 : 185;
            const steamY = Math.random() * 10 + 35;

            steam.style.left = `${steamX}px`;
            steam.style.top = `${steamY}%`;

            const size = Math.random() * 3 + 4;
            steam.style.width = `${size}px`;
            steam.style.height = `${size}px`;

            steam.style.animation = 'steamFloat 0.8s ease-out forwards';

            trainContainer.appendChild(steam);

            setTimeout(() => {
                if (trainContainer.contains(steam)) {
                    trainContainer.removeChild(steam);
                }
            }, 800);
        }

        // Create multiple initial trains with slight delays
        for (let i = 0; i < 5; i++) { // Increased initial number of trains
            setTimeout(() => createTrain(), i * 500); // Reduced delay between initial trains
        }
    </script>
</body>
</html>
